<?php
function Homey_Import_Files() {
  return array(
    array(
      'import_file_name'             => 'FULL DEMO 01',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey01/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey01/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey01/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey01/demo_01.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo01.gethomey.io',
    ),
    array(
      'import_file_name'             => 'FULL DEMO 02',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey02/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey02/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey02/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey02/demo_02.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo02.gethomey.io',
    ),

    array(
      'import_file_name'             => 'FULL DEMO 03',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey03/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey03/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey03/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey03/demo_03.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo03.gethomey.io',
    ),

    array(
      'import_file_name'             => 'FULL DEMO 04',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey04/demo-content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey04/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey04/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey04/demo_04.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo04.gethomey.io',
    ),

    array(
      'import_file_name'             => 'SINGLE BED & BREAKFAST',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey05/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey05/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey05/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey05/demo_05.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo05.gethomey.io',
    ),

    array(
      'import_file_name'             => 'BOATS RENTAL',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey06/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey06/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey06/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey06/demo_06.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo06.gethomey.io',
    ),

    array(
      'import_file_name'             => 'OFFICES',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey07/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey07/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey07/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey07/demo_07.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo07.gethomey.io',
    ),

    array(
      'import_file_name'             => 'COWORKING LEADS GENERATION',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey08/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey08/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey08/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey08/demo_08.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo08.gethomey.io',
    ),
    array(
      'import_file_name'             => 'STORES',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey09/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey09/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey09/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey09/demo_09.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo09.gethomey.io',
    ),
    array(
      'import_file_name'             => 'HOURLY BOOKING',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey10/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey10/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey10/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey10/demo10.png',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo10.gethomey.io',
    ),

    array(
      'import_file_name'             => 'Demo 11',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey11/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey11/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey11/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey11/demo11.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo11.gethomey.io',
    ),

    array(
      'import_file_name'             => 'Demo 12',
      'categories'                   => array(),
      'local_import_file'            => HOMEY_PLUGIN_PATH.'/demos/homey12/content.xml',
      'local_import_widget_file'     => HOMEY_PLUGIN_PATH.'/demos/homey12/widgets.json',
      'local_import_customizer_file' => '',
      'local_import_redux'           => array(
        array(
          'file_path'   => HOMEY_PLUGIN_PATH.'/demos/homey12/redux.json',
          'option_name' => 'homey_options',
        ),
      ),

      'import_preview_image_url'     => HOMEY_PLUGIN_URL.'/demos/homey12/demo12.jpg',
      'import_notice'                => __( 'After you import this demo, you will have to setup the slider separately.', 'homey' ),
      'preview_url'                  => 'http://demo12.gethomey.io',
    ),

  );
}
add_filter( 'pt-ocdi/import_files', 'Homey_Import_Files' );

function ocdi_before_content_import( $selected_import ) {

    $rs_slider = '';
    $demo_name = $selected_import['import_file_name'];

    if ( 'FULL DEMO 01' === $demo_name || 'FULL DEMO 02' === $demo_name || 'FULL DEMO 03' === $demo_name ) {
        $rs_slider = 'homey01/news-gallery2';

    } if ( 'FULL DEMO 04' === $demo_name ) {
        $rs_slider = 'homey04/homepage-slider';

    } elseif( 'SINGLE BED & BREAKFAST' === $demo_name ) {
        $rs_slider = 'homey05/homepage-slider';

    } elseif( 'COWORKING LEADS GENERATION' === $demo_name ) {
        $rs_slider = 'homey08/homey_slider';

    } elseif( 'STORES' === $demo_name ) {
        $rs_slider = 'homey09/homepage_hero';
    }

    if ( class_exists( 'RevSlider' ) && !empty($rs_slider) ) {

        $sliderPath = HOMEY_PLUGIN_PATH.'/demos/'.$rs_slider.'.zip';
        $slider = new RevSlider();
        $slider->importSliderFromPost( true, true, $sliderPath );
    }
}
add_action( 'pt-ocdi/before_content_import', 'ocdi_before_content_import' );

function ocdi_after_import_setup($selected_import) {
    // Assign menus to their locations.
    $demo_name = $selected_import['import_file_name'];
    $front_page_id = $blog_page_id = $main_menu = '';

    if ( 'FULL DEMO 01' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Nav', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage - Parallax Standard' );
        $blog_page_id  = get_page_by_title( 'Blog' );

    } elseif ( 'FULL DEMO 02' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Nav', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage - Parallax Fullscreen' );
        $blog_page_id  = get_page_by_title( 'Blog' );

    } elseif ( 'FULL DEMO 03' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Nav', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage - Custom Slider' );
        $blog_page_id  = get_page_by_title( 'Blog' );

    } elseif ( 'FULL DEMO 04' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Nav', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage - Slider Revolution' );
        $blog_page_id  = get_page_by_title( 'Blog' );

    } elseif( 'SINGLE BED & BREAKFAST' === $demo_name || 'HOURLY BOOKING' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Menu', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage' );
        $blog_page_id  = get_page_by_title( 'Blog' );

    } elseif( 'BOATS RENTAL' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Nav', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage' );
        $blog_page_id  = get_page_by_title( 'Blog' );

    } elseif( 'COWORKING LEADS GENERATION' === $demo_name || 'OFFICES' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Nav', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage' );
        $blog_page_id  = get_page_by_title( 'Press' );

    } elseif( 'STORES' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Menu', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage' );
        $blog_page_id  = get_page_by_title( 'Blog' );

    } elseif( 'Demo 11' === $demo_name || 'Demo 12' === $demo_name ) {
        $main_menu = get_term_by( 'name', 'Main Menu', 'nav_menu' );
        $front_page_id = get_page_by_title( 'Homepage' );
        $blog_page_id  = get_page_by_title( 'Blog' );

    }

    if(!empty($main_menu)) {
      set_theme_mod( 'nav_menu_locations', array(
              'main-menu' => $main_menu->term_id,
          )
      );
    }

    update_option( 'show_on_front', 'page' );
    if(!empty($front_page_id)) {
        update_option( 'page_on_front', $front_page_id->ID );
    }

    if(!empty($blog_page_id)) {
        update_option( 'page_for_posts', $blog_page_id->ID );
    }

}
add_action( 'pt-ocdi/after_import', 'ocdi_after_import_setup' );
add_filter( 'pt-ocdi/disable_pt_branding', '__return_true' );
